<!doctype html>
<!-- Example for discussion at https://www.openmicroscopy.org/community/viewtopic.php?f=6&t=8058&p=17114 -->
<html>
<head>
    <!-- This min.css contains all the smaller css files below... ->
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/omeroweb.viewer.min.css" type="text/css" rel="stylesheet"></link> -->

    <!-- But many of these can be removed if we limit the functionality of the viewer (E.g. no Channel sliders, color-pickers etc) -->

    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webgateway/css/reset.css" type="text/css" rel="stylesheet"></link> -->
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webgateway/css/ome.body.css" type="text/css" rel="stylesheet"></link> -->
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webclient/css/dusty.css" type="text/css" rel="stylesheet"></link> -->
    <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webgateway/css/ome.viewport.css" type="text/css" rel="stylesheet"></link>
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webgateway/css/ome.toolbar.css" type="text/css" rel="stylesheet"></link> -->
    <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webgateway/css/ome.gs_slider.css" type="text/css" rel="stylesheet"></link>
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webgateway/css/base.css" type="text/css" rel="stylesheet"></link> -->
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webgateway/css/ome.snippet_header_logo.css" type="text/css" rel="stylesheet"></link> -->
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webgateway/css/ome.postit.css" type="text/css" rel="stylesheet"></link> -->
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webgateway/css/ome.rangewidget.css" type="text/css" rel="stylesheet"></link> -->
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/3rdparty/farbtastic-1.2/farbtastic.css" type="text/css" rel="stylesheet"></link> -->
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webgateway/css/ome.colorbtn.css" type="text/css" rel="stylesheet"></link> -->
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/3rdparty/JQuerySpinBtn-1.3a/JQuerySpinBtn.css" type="text/css" rel="stylesheet"></link> -->
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery-ui.all.css" type="text/css" rel="stylesheet"></link> -->
    <!-- <link href="https://wwwdev.ebi.ac.uk/mi/media/static/webgateway/css/omero_image.css" type="text/css" rel="stylesheet"></link> -->
    <link href="https://wwwdev.ebi.ac.uk/mi/media/static/3rdparty/panojs-2.0.0/panojs.css" type="text/css" rel="stylesheet"></link>


    <script src="https://wwwdev.ebi.ac.uk/mi/media/static/omeroweb.viewer.min.js" type="text/javascript"></script>

    <style type="text/css">
    .viewport {
        height: 400px;
        width: 500px;
    }
    .thumbList {
        width: 500px;
        float: left;
        margin: 20px;
    }
    </style>

    <script>

        $(function(){
            /* Prepare the left viewport */
            var viewport = $.WeblitzViewport($("#viewport"), "https://nightshade.openmicroscopy.org/webgateway/", {
                'mediaroot': "https://nightshade.openmicroscopy.org/static/"
            });
            /* Load the selected image into the viewport */
            viewport.load(3933597);


            // Alternative for testing non-big image viewer
            // viewport = $.WeblitzViewport($("#viewport"), "https://learning.openmicroscopy.org/dundee/webgateway/", {
            //         'mediaroot': "https://learning.openmicroscopy.org/dundee/static/"
            //     });
            // viewport.load(1296);


            /* Prepare right viewport */
            var viewport2 = $.WeblitzViewport($("#viewport2"), "https://wwwdev.ebi.ac.uk/mi/media/omero/webgateway/", {
                'mediaroot': "https://wwwdev.ebi.ac.uk/mi/media/static/"
            });
            /* Load the selected image into the viewport */
            viewport2.load(87043);

            $(".thumb").click(function(){
                var iid = $(this).attr('data-id');
                iid = parseInt(iid);

                // Work-around for bug fixed in https://github.com/openmicroscopy/openmicroscopy/pull/4695/
                var $parent = $("#viewport").parent();

                // Remove viewport container since the DOM element contains refs to old viewer...
                $("#viewport").remove();
                // ...recreate new component in it's place...
                $parent.append("<div id='viewport' class='viewport'></div>");

                // ...and recreate viewport
                viewport = $.WeblitzViewport($("#viewport"), "https://nightshade.openmicroscopy.org/webgateway/", {
                    'mediaroot': "https://nightshade.openmicroscopy.org/static/"
                });
                /* Load the selected image into the viewport */
                viewport.load(iid);
            });

            $(".thumb2").click(function(){
                var iid = $(this).attr('data-id');
                iid = parseInt(iid);

                var $parent = $("#viewport2").parent();
                $("#viewport2").remove();
                $parent.append("<div id='viewport2' class='viewport'></div>");
                viewport2 = $.WeblitzViewport($("#viewport2"), "https://wwwdev.ebi.ac.uk/mi/media/omero/webgateway/", {
                    'mediaroot': "https://wwwdev.ebi.ac.uk/mi/media/static/"
                });
                viewport2.load(iid);
            });
        });
    </script>
</head>

<body>
    <div class="thumbList" style="float:left">
        <div id="viewport" class="viewport"></div>
    </div>
    <div class="thumbList" style="float:left">
        <div id="viewport2" class="viewport"></div>
    </div>

    <div style="clear: both; height:40px"></div>
    
    <div class="thumbList">
        <img class="thumb" data-id="3933597" src="https://nightshade.openmicroscopy.org/webgateway/render_thumbnail/3933597/96/"/>

        <img class="thumb" data-id="3946830" src="https://nightshade.openmicroscopy.org/webgateway/render_thumbnail/3946830/96/"/>

        <img class="thumb" data-id="3925542" src="https://nightshade.openmicroscopy.org/webgateway/render_thumbnail/3925542/96/"/>
    </div>
    <div class="thumbList">
        <img class="thumb2" data-id="87044" src="https://wwwdev.ebi.ac.uk/mi/media/omero/webgateway/render_thumbnail/87044/96/"/>

        <img class="thumb2" data-id="87015" src="https://wwwdev.ebi.ac.uk/mi/media/omero/webgateway/render_thumbnail/87015/96/"/>

        <img class="thumb2" data-id="86899" src="https://wwwdev.ebi.ac.uk/mi/media/omero/webgateway/render_thumbnail/86899/96/"/>
    </div>
</body>

</html>

